{"ast":null,"code":"\"use strict\";\n\nvar ɵngcc0 = require('@angular/core');\n\nvar __decorate = this && this.__decorate || function (decorators, target, key, desc) {\n  var c = arguments.length,\n      r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,\n      d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) {\n    if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  }\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n\nvar __metadata = this && this.__metadata || function (k, v) {\n  if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar core_1 = require(\"@angular/core\");\n\nvar ScrollDirective =\n/** @class */\nfunction () {\n  function ScrollDirective() {\n    this.onScroll = new core_1.EventEmitter();\n    this.bottomOffset = 100;\n    this.topOffset = 100;\n  } // handle host scroll\n\n\n  ScrollDirective.prototype.scrolled = function ($event) {\n    this.elementScrollEvent($event);\n  }; // handle window scroll\n\n\n  ScrollDirective.prototype.windowScrolled = function ($event) {\n    this.windowScrollEvent($event);\n  };\n\n  ScrollDirective.prototype.windowScrollEvent = function ($event) {\n    var target = $event.target;\n    var scrollTop = window.pageYOffset || document.documentElement.scrollTop || document.body.scrollTop || 0;\n    var isReachingTop = scrollTop < this.topOffset;\n    var isReachingBottom = target.body.offsetHeight - (window.innerHeight + scrollTop) < this.bottomOffset;\n    var emitValue = {\n      isReachingBottom: isReachingBottom,\n      isReachingTop: isReachingTop,\n      originalEvent: $event,\n      isWindowEvent: true\n    };\n    this.onScroll.emit(emitValue);\n  };\n\n  ScrollDirective.prototype.elementScrollEvent = function ($event) {\n    var target = $event.target;\n    var scrollPosition = target.scrollHeight - target.scrollTop;\n    var offsetHeight = target.offsetHeight;\n    var isReachingTop = target.scrollTop < this.topOffset;\n    var isReachingBottom = scrollPosition - offsetHeight < this.bottomOffset;\n    var emitValue = {\n      isReachingBottom: isReachingBottom,\n      isReachingTop: isReachingTop,\n      originalEvent: $event,\n      isWindowEvent: false\n    };\n    this.onScroll.emit(emitValue);\n  };\n\n  __decorate([core_1.Output(), __metadata(\"design:type\", Object)], ScrollDirective.prototype, \"onScroll\", void 0);\n\n  __decorate([core_1.Input(), __metadata(\"design:type\", Number)], ScrollDirective.prototype, \"bottomOffset\", void 0);\n\n  __decorate([core_1.Input(), __metadata(\"design:type\", Number)], ScrollDirective.prototype, \"topOffset\", void 0);\n\n  __decorate([core_1.HostListener('scroll', ['$event']), __metadata(\"design:type\", Function), __metadata(\"design:paramtypes\", [Event]), __metadata(\"design:returntype\", void 0)], ScrollDirective.prototype, \"scrolled\", null);\n\n  __decorate([core_1.HostListener('window:scroll', ['$event']), __metadata(\"design:type\", Function), __metadata(\"design:paramtypes\", [Event]), __metadata(\"design:returntype\", void 0)], ScrollDirective.prototype, \"windowScrolled\", null);\n\n  ScrollDirective = __decorate([__metadata(\"design:paramtypes\", [])], ScrollDirective);\n\n  ScrollDirective.ɵfac = function ScrollDirective_Factory(t) {\n    return new (t || ScrollDirective)();\n  };\n\n  ScrollDirective.ɵdir = ɵngcc0.ɵɵdefineDirective({\n    type: ScrollDirective,\n    selectors: [[\"\", \"detect-scroll\", \"\"]],\n    hostBindings: function ScrollDirective_HostBindings(rf, ctx) {\n      if (rf & 1) {\n        ɵngcc0.ɵɵlistener(\"scroll\", function ScrollDirective_scroll_HostBindingHandler($event) {\n          return ctx.scrolled($event);\n        })(\"scroll\", function ScrollDirective_scroll_HostBindingHandler($event) {\n          return ctx.windowScrolled($event);\n        }, false, ɵngcc0.ɵɵresolveWindow);\n      }\n    },\n    inputs: {\n      bottomOffset: \"bottomOffset\",\n      topOffset: \"topOffset\"\n    },\n    outputs: {\n      onScroll: \"onScroll\"\n    }\n  });\n  /*@__PURE__*/\n\n  (function () {\n    ɵngcc0.ɵsetClassMetadata(ScrollDirective, [{\n      type: core_1.Directive,\n      args: [{\n        selector: '[detect-scroll]'\n      }]\n    }], function () {\n      return [];\n    }, {\n      onScroll: [{\n        type: core_1.Output\n      }],\n      bottomOffset: [{\n        type: core_1.Input\n      }],\n      topOffset: [{\n        type: core_1.Input\n      }],\n      scrolled: [{\n        type: core_1.HostListener,\n        args: ['scroll', ['$event']]\n      }],\n      windowScrolled: [{\n        type: core_1.HostListener,\n        args: ['window:scroll', ['$event']]\n      }]\n    });\n  })();\n\n  return ScrollDirective;\n}();\n\nexports.ScrollDirective = ScrollDirective;","map":{"version":3,"sources":["scroll.directive.js"],"names":[],"mappings":"AAAA;;;;AACA,IAAA,UAAA,GAAA,QAAA,KAAA,UAAA,IAAA,UAAA,UAAA,EAAA,MAAA,EAAA,GAAA,EAAA,IAAA,EAAA;AACA,MAAA,CAAA,GAAA,SAAA,CAAA,MAAA;AAAA,MAAA,CAAA,GAAA,CAAA,GAAA,CAAA,GAAA,MAAA,GAAA,IAAA,KAAA,IAAA,GAAA,IAAA,GAAA,MAAA,CAAA,wBAAA,CAAA,MAAA,EAAA,GAAA,CAAA,GAAA,IAAA;AAAA,MAAA,CAAA;AACA,MAAA,OAAA,OAAA,KAAA,QAAA,IAAA,OAAA,OAAA,CAAA,QAAA,KAAA,UAAA,EAAA,CAAA,GAAA,OAAA,CAAA,QAAA,CAAA,UAAA,EAAA,MAAA,EAAA,GAAA,EAAA,IAAA,CAAA,CAAA,KACA,KAAA,IAAA,CAAA,GAAA,UAAA,CAAA,MAAA,GAAA,CAAA,EAAA,CAAA,IAAA,CAAA,EAAA,CAAA,EAAA;AAAA,QAAA,CAAA,GAAA,UAAA,CAAA,CAAA,CAAA,EAAA,CAAA,GAAA,CAAA,CAAA,GAAA,CAAA,GAAA,CAAA,CAAA,CAAA,CAAA,GAAA,CAAA,GAAA,CAAA,GAAA,CAAA,CAAA,MAAA,EAAA,GAAA,EAAA,CAAA,CAAA,GAAA,CAAA,CAAA,MAAA,EAAA,GAAA,CAAA,KAAA,CAAA;AAAA;AACA,SAAA,CAAA,GAAA,CAAA,IAAA,CAAA,IAAA,MAAA,CAAA,cAAA,CAAA,MAAA,EAAA,GAAA,EAAA,CAAA,CAAA,EAAA,CAAA;AACA,CALA;;AAMA,IAAA,UAAA,GAAA,QAAA,KAAA,UAAA,IAAA,UAAA,CAAA,EAAA,CAAA,EAAA;AACA,MAAA,OAAA,OAAA,KAAA,QAAA,IAAA,OAAA,OAAA,CAAA,QAAA,KAAA,UAAA,EAAA,OAAA,OAAA,CAAA,QAAA,CAAA,CAAA,EAAA,CAAA,CAAA;AACA,CAFA;;AAGA,MAAA,CAAA,cAAA,CAAA,OAAA,EAAA,YAAA,EAAA;AAAA,EAAA,KAAA,EAAA;AAAA,CAAA;;AACA,IAAA,MAAA,GAAA,OAAA,CAAA,eAAA,CAAA;;AACA,IAAA,eAAA;AAAA;AAAA,YAAA;AACA,WAAA,eAAA,GAAA;AACA,SAAA,QAAA,GAAA,IAAA,MAAA,CAAA,YAAA,EAAA;AACA,SAAA,YAAA,GAAA,GAAA;AACA,SAAA,SAAA,GAAA,GAAA;AACA,GALA,CAMA;;;AACA,EAAA,eAAA,CAAA,SAAA,CAAA,QAAA,GAAA,UAAA,MAAA,EAAA;AACA,SAAA,kBAAA,CAAA,MAAA;AACA,GAFA,CAPA,CAUA;;;AACA,EAAA,eAAA,CAAA,SAAA,CAAA,cAAA,GAAA,UAAA,MAAA,EAAA;AACA,SAAA,iBAAA,CAAA,MAAA;AACA,GAFA;;AAGA,EAAA,eAAA,CAAA,SAAA,CAAA,iBAAA,GAAA,UAAA,MAAA,EAAA;AACA,QAAA,MAAA,GAAA,MAAA,CAAA,MAAA;AACA,QAAA,SAAA,GAAA,MAAA,CAAA,WAAA,IAAA,QAAA,CAAA,eAAA,CAAA,SAAA,IAAA,QAAA,CAAA,IAAA,CAAA,SAAA,IAAA,CAAA;AACA,QAAA,aAAA,GAAA,SAAA,GAAA,KAAA,SAAA;AACA,QAAA,gBAAA,GAAA,MAAA,CAAA,IAAA,CAAA,YAAA,IAAA,MAAA,CAAA,WAAA,GAAA,SAAA,CAAA,GAAA,KAAA,YAAA;AACA,QAAA,SAAA,GAAA;AAAA,MAAA,gBAAA,EAAA,gBAAA;AAAA,MAAA,aAAA,EAAA,aAAA;AAAA,MAAA,aAAA,EAAA,MAAA;AAAA,MAAA,aAAA,EAAA;AAAA,KAAA;AACA,SAAA,QAAA,CAAA,IAAA,CAAA,SAAA;AACA,GAPA;;AAQA,EAAA,eAAA,CAAA,SAAA,CAAA,kBAAA,GAAA,UAAA,MAAA,EAAA;AACA,QAAA,MAAA,GAAA,MAAA,CAAA,MAAA;AACA,QAAA,cAAA,GAAA,MAAA,CAAA,YAAA,GAAA,MAAA,CAAA,SAAA;AACA,QAAA,YAAA,GAAA,MAAA,CAAA,YAAA;AACA,QAAA,aAAA,GAAA,MAAA,CAAA,SAAA,GAAA,KAAA,SAAA;AACA,QAAA,gBAAA,GAAA,cAAA,GAAA,YAAA,GAAA,KAAA,YAAA;AACA,QAAA,SAAA,GAAA;AAAA,MAAA,gBAAA,EAAA,gBAAA;AAAA,MAAA,aAAA,EAAA,aAAA;AAAA,MAAA,aAAA,EAAA,MAAA;AAAA,MAAA,aAAA,EAAA;AAAA,KAAA;AACA,SAAA,QAAA,CAAA,IAAA,CAAA,SAAA;AACA,GARA;;AASA,EAAA,UAAA,CAAA,CACA,MAAA,CAAA,MAAA,EADA,EAEA,UAAA,CAAA,aAAA,EAAA,MAAA,CAFA,CAAA,EAGA,eAAA,CAAA,SAHA,EAGA,UAHA,EAGA,KAAA,CAHA,CAAA;;AAIA,EAAA,UAAA,CAAA,CACA,MAAA,CAAA,KAAA,EADA,EAEA,UAAA,CAAA,aAAA,EAAA,MAAA,CAFA,CAAA,EAGA,eAAA,CAAA,SAHA,EAGA,cAHA,EAGA,KAAA,CAHA,CAAA;;AAIA,EAAA,UAAA,CAAA,CACA,MAAA,CAAA,KAAA,EADA,EAEA,UAAA,CAAA,aAAA,EAAA,MAAA,CAFA,CAAA,EAGA,eAAA,CAAA,SAHA,EAGA,WAHA,EAGA,KAAA,CAHA,CAAA;;AAIA,EAAA,UAAA,CAAA,CACA,MAAA,CAAA,YAAA,CAAA,QAAA,EAAA,CAAA,QAAA,CAAA,CADA,EAEA,UAAA,CAAA,aAAA,EAAA,QAAA,CAFA,EAGA,UAAA,CAAA,mBAAA,EAAA,CAAA,KAAA,CAAA,CAHA,EAIA,UAAA,CAAA,mBAAA,EAAA,KAAA,CAAA,CAJA,CAAA,EAKA,eAAA,CAAA,SALA,EAKA,UALA,EAKA,IALA,CAAA;;AAMA,EAAA,UAAA,CAAA,CACA,MAAA,CAAA,YAAA,CAAA,eAAA,EAAA,CAAA,QAAA,CAAA,CADA,EAEA,UAAA,CAAA,aAAA,EAAA,QAAA,CAFA,EAGA,UAAA,CAAA,mBAAA,EAAA,CAAA,KAAA,CAAA,CAHA,EAIA,UAAA,CAAA,mBAAA,EAAA,KAAA,CAAA,CAJA,CAAA,EAKA,eAAA,CAAA,SALA,EAKA,gBALA,EAKA,IALA,CAAA;;AAMA,EAAA,eAAA,GAAA,UAAA,CAAA,CAIO,UAAA,CAAA,mBAAA,EAAA,EAAA,CAJP,CAAA,EAKA,eALA,CAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAKwB,G;;AACxB,SAAA,eAAA;AACA,CA9DA,EAAA;;AA+DA,OAAA,CAAA,eAAA,GAAA,eAAA","sourcesContent":["\"use strict\";\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __metadata = (this && this.__metadata) || function (k, v) {\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar core_1 = require(\"@angular/core\");\nvar ScrollDirective = /** @class */ (function () {\n    function ScrollDirective() {\n        this.onScroll = new core_1.EventEmitter();\n        this.bottomOffset = 100;\n        this.topOffset = 100;\n    }\n    // handle host scroll\n    ScrollDirective.prototype.scrolled = function ($event) {\n        this.elementScrollEvent($event);\n    };\n    // handle window scroll\n    ScrollDirective.prototype.windowScrolled = function ($event) {\n        this.windowScrollEvent($event);\n    };\n    ScrollDirective.prototype.windowScrollEvent = function ($event) {\n        var target = $event.target;\n        var scrollTop = window.pageYOffset || document.documentElement.scrollTop || document.body.scrollTop || 0;\n        var isReachingTop = scrollTop < this.topOffset;\n        var isReachingBottom = (target.body.offsetHeight - (window.innerHeight + scrollTop)) < this.bottomOffset;\n        var emitValue = { isReachingBottom: isReachingBottom, isReachingTop: isReachingTop, originalEvent: $event, isWindowEvent: true };\n        this.onScroll.emit(emitValue);\n    };\n    ScrollDirective.prototype.elementScrollEvent = function ($event) {\n        var target = $event.target;\n        var scrollPosition = target.scrollHeight - target.scrollTop;\n        var offsetHeight = target.offsetHeight;\n        var isReachingTop = target.scrollTop < this.topOffset;\n        var isReachingBottom = (scrollPosition - offsetHeight) < this.bottomOffset;\n        var emitValue = { isReachingBottom: isReachingBottom, isReachingTop: isReachingTop, originalEvent: $event, isWindowEvent: false };\n        this.onScroll.emit(emitValue);\n    };\n    __decorate([\n        core_1.Output(),\n        __metadata(\"design:type\", Object)\n    ], ScrollDirective.prototype, \"onScroll\", void 0);\n    __decorate([\n        core_1.Input(),\n        __metadata(\"design:type\", Number)\n    ], ScrollDirective.prototype, \"bottomOffset\", void 0);\n    __decorate([\n        core_1.Input(),\n        __metadata(\"design:type\", Number)\n    ], ScrollDirective.prototype, \"topOffset\", void 0);\n    __decorate([\n        core_1.HostListener('scroll', ['$event']),\n        __metadata(\"design:type\", Function),\n        __metadata(\"design:paramtypes\", [Event]),\n        __metadata(\"design:returntype\", void 0)\n    ], ScrollDirective.prototype, \"scrolled\", null);\n    __decorate([\n        core_1.HostListener('window:scroll', ['$event']),\n        __metadata(\"design:type\", Function),\n        __metadata(\"design:paramtypes\", [Event]),\n        __metadata(\"design:returntype\", void 0)\n    ], ScrollDirective.prototype, \"windowScrolled\", null);\n    ScrollDirective = __decorate([\n        core_1.Directive({\n            selector: '[detect-scroll]'\n        }),\n        __metadata(\"design:paramtypes\", [])\n    ], ScrollDirective);\n    return ScrollDirective;\n}());\nexports.ScrollDirective = ScrollDirective;\n"]},"metadata":{},"sourceType":"script"}